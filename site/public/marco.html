<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Pardallis</title>
    <link rel="shortcut icon" href="../public/icons marco/logo.svg" type="image/x-icon">
    <link rel="stylesheet" href="css/cssmarco.css">
    <link rel="stylesheet" href="css/login-cadastro.css">
    <link rel="stylesheet" href="./css/index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/1ab94d0eba.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.js"></script>
    
</head>
<body>
  
<div class="universo">
  
<div class="cabeca">
    
    

  
    <div class="header">
        <div class="container d-flex my-2 w-100">
            <a href="index.html" class="titulo">
                <img class="logo" src="./assets/imgs/logo.png" alt="" draggable="false">  

            </a>
            <ul class="register">
                <li>
                    <a class="font-nav fw-bolder">Home</a>
                </li>
                <li>
                    <a class=" font-nav" href="./planos.html">Planos</a>
                </li>
                <div class="v-hr"></div>
                <li>
                    <img class='img-icon-user' src="http://cdn.onlinewebfonts.com/svg/img_184513.png" alt="" draggable="false">
                </li>
                <li>

                    <button class="ms-1 btn fw-semibold login-botao"
                        onclick="redirectUserToLogin()">Cadastrar</button>
                </li>

            </ul>
        </div>
    </div> 
    

</div>


<div class="corpo">


  <div class="lateral-esquerda">
    <img src="./icons marco/bell-solid.svg" alt="" style="height: 2rem; margin-top: 1rem;">
    <img src="./icons marco/chart-line-solid.svg" alt="" style="height: 2rem;">
    <img src="./icons marco/house-solid.svg" alt="" style="height: 2rem;">
    <img src="./icons marco/bell-solid.svg" alt="" style="height: 2rem;">
    <img src="" alt="" style="height: 4rem;">
    
    <img src="" alt="" style="height: 2rem;">
    <img src="" alt="" style="height: 2rem;">
    <img src="" alt="" style="height: 2rem;">
    <img src="../../Site/public/assets/imgs/logo.png" alt="" style="height: 2rem;">
  </div>
  
  
<div class="lateral-direita">

    <div class="box-primaria">
      <div class="part-um" >
        
        
          <canvas id="primo" class="tamanho"></canvas>
        
      </div> 
      <div class="part-um"> 
       
       
          <canvas id="secu" class="tamanho"></canvas>
        
      </div>
      <div class="part-um"> 
       
       
          <canvas id="terc" class="tamanho"></canvas>
        
      </div>
    </div>

    <div class="box-secundaria">

      <canvas id="grafico" class="pardal" ></canvas>
    </div>

    


</div>


  
 
</div>


<div class="pernas">

  <div class="graficos-grupo">
    <div class="part-tres">
      <canvas id="g-um"></canvas>
    </div>


    <div class="part-tres">
      <canvas id="g-dois"></canvas>
    </div>

    <div class="part-tres">
      <canvas id="g-tres"></canvas>
    </div>
  </div>
  <button onclick="mensagem()">nada</button>

  
</div>

</div>


</body>
</html>


<script>
  var teste = [];
  var id=[];
  var temperatura = [];
  var ram = [];
  var frequencia = [];
  var disco = [];
  var media;


setTimeout(function obter() {
    
  
  fetch("/medidas/ultimas/1", {
    method: "GET",
    headers: {
        "content-Type": "application/json"
    }
    
  }).then(

    (res) => {
      res.json()
      .then(
        (json) => {




          for (let i = 0; i < 100; i++) {
          //definindo variaveis que receberam os dados do banco
          teste = json;
          temperatura.push(teste[0].temperatura)
          ram.push(teste[i].ram)
          frequencia.push(teste[i].frequencia)
          disco.push(teste[i].disco)
          
          //
          }
          console.log(temperatura)
          console.log(media)

  
    }
)}  
  
)
fetch("/media/media/1", {
    method: "GET",
    headers: {
        "content-Type": "application/json"
    }
    
  }).then(

    (res) => {
      res.json()
      .then(
        (json) => {

            
            media = json[0].media 
            console.log(media)

  
    }
)}  
  
)
} , 1000);
</script>

<script>
setTimeout(function plotar() {

  // principal
  let linha = document.getElementById('grafico').getContext("2d");
  let lin = new Chart(linha, {
  type: 'polarArea', 
  data: {labels: ["setor 1"], 
  datasets: [{
    label: "Media de temperatura do setor",
    fillColor: "rgba(220,220,220,0.2)",
    strokeColor: "rgba(220,220,220,1)",
    pointColor: "rgba(220,220,220,1)",
    pointStrokeColor: "#fff",
    pointHighlightFill: "#fff",
    pointHighlightStroke: "rgba(220,220,220,1)",
  data:[media,110]
  
  }]}
  });  
  //


  //primeiro de cima
  let primeiro = document.getElementById('primo')
  let primus = new Chart(primeiro, {
  type: 'polarArea', 
  data: {labels: ["CPU1"], 
  datasets: [{
  label: 'Uso da CPU',
  backgroundColor:['green'],
  data:[10,temperatura[0]],
  fill: false
  }]}
  });
  //

        // segundo de cima
  let segundo = document.getElementById('secu')
  let secus = new Chart(segundo, {
    type: 'polarArea', 
    data: {labels: ["CPU2"], 
  datasets: [{
    label: 'Uso da CPU',
    backgroundColor:['rgb(255, 0, 0)'],
    data:[10,teste[0].temperatura],
    fill: false
  }]}
  });
  //

    // terceiro de cima
  let terceiro = document.getElementById('terc')
  let tercius = new Chart(terceiro, {
    type: 'polarArea', 
    data: {labels: ["CPU3"], 
  datasets: [{
    label: 'Uso da CPU',
    backgroundColor:['yellow'],
    data:[10,teste[0].temperatura],
    fill: false
      
  }]}
  });
    //

  
}, 1200);
</script>

<script>
  var i = 0;

  
  // primeiro inferior
  let primo_inf = document.getElementById('g-um')
  let  primus_inf = new Chart(primo_inf, {
      type: 'line', 
      data: {labels: [], 
    datasets: [{
      label: 'CPU',
      backgroundColor:['rgb(57, 255, 20)'],
      data:[],
      fill: false
        
      }]}
      });
      //
  
      // segundo inferior
      let secu_inf = document.getElementById('g-dois')
      let secus_inf = new Chart(secu_inf, {
      type: 'line', 
      data: {labels: [], 
    datasets: [{
      label: 'Disco',
      backgroundColor:['rgb(57, 255, 20)'],
      data:[],
      fill: false
    }]}
    });
      //
  
      // terceiro inferior
      let terc_inf = document.getElementById('g-tres')
      let tercis_inf = new Chart(terc_inf, {
      type: 'line', 
      data: {labels: [], 
    datasets: [{
      label: 'RAM',
      backgroundColor:['rgb(57, 255, 20)'],
      data:[],
      fill: false
    }]}
        
    });
      //
  
      
  
  setInterval(function plotarInferior(){
    
    /*setInterval(function () {
    i++
    },1000);*/

      
    i++

        primus_inf.data.labels.push(i + "H")
        primus_inf.data.datasets[0].data.push(frequencia[i])
        primus_inf.update();

        secus_inf.data.labels.push(i + "H")
        secus_inf.data.datasets[0].data.push(disco[i])
        secus_inf.update();
        
        tercis_inf.data.labels.push(i + "H")
        tercis_inf.data.datasets[0].data.push(ram[i])
        tercis_inf.update();
       
    
    
      

  },5000);
  

  </script>

<script>
  function mensagem() {
    fetch("/mensagem/numero", {
    method: "GET",
    headers: {
        "content-Type": "application/json"
    }
    
  }).then(

    (res) => {
      res.json()
      .then(
        (json) => {
          
    }
)}  
  
)  
  }
  
</script>